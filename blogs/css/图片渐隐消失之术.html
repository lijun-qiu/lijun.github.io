<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图片渐隐消失之术 | lijun&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="A simple and beautiful vuepress blog theme .">
    
    <link rel="preload" href="/lijun.github.io/assets/css/0.styles.174fb0da.css" as="style"><link rel="preload" href="/lijun.github.io/assets/js/app.d76a9f71.js" as="script"><link rel="preload" href="/lijun.github.io/assets/js/4.7ab4d0b1.js" as="script"><link rel="preload" href="/lijun.github.io/assets/js/1.e1ba0332.js" as="script"><link rel="preload" href="/lijun.github.io/assets/js/9.21a31406.js" as="script"><link rel="prefetch" href="/lijun.github.io/assets/js/10.95f9e478.js"><link rel="prefetch" href="/lijun.github.io/assets/js/11.f6b04fef.js"><link rel="prefetch" href="/lijun.github.io/assets/js/12.3c75d87e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/13.64524e8f.js"><link rel="prefetch" href="/lijun.github.io/assets/js/14.4fe4116d.js"><link rel="prefetch" href="/lijun.github.io/assets/js/15.438923d1.js"><link rel="prefetch" href="/lijun.github.io/assets/js/16.8448211c.js"><link rel="prefetch" href="/lijun.github.io/assets/js/17.9c9379b7.js"><link rel="prefetch" href="/lijun.github.io/assets/js/18.6800bba3.js"><link rel="prefetch" href="/lijun.github.io/assets/js/19.952b82b0.js"><link rel="prefetch" href="/lijun.github.io/assets/js/20.5d0e8bb2.js"><link rel="prefetch" href="/lijun.github.io/assets/js/21.898ecfbd.js"><link rel="prefetch" href="/lijun.github.io/assets/js/22.599b8e17.js"><link rel="prefetch" href="/lijun.github.io/assets/js/23.c4e94cd0.js"><link rel="prefetch" href="/lijun.github.io/assets/js/24.321e8d1e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/25.9861cc00.js"><link rel="prefetch" href="/lijun.github.io/assets/js/26.e0078337.js"><link rel="prefetch" href="/lijun.github.io/assets/js/27.95306eca.js"><link rel="prefetch" href="/lijun.github.io/assets/js/28.359936af.js"><link rel="prefetch" href="/lijun.github.io/assets/js/29.f25cf8ff.js"><link rel="prefetch" href="/lijun.github.io/assets/js/3.f0ed7429.js"><link rel="prefetch" href="/lijun.github.io/assets/js/30.8b33c0af.js"><link rel="prefetch" href="/lijun.github.io/assets/js/31.5ab0875e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/32.dafb4c90.js"><link rel="prefetch" href="/lijun.github.io/assets/js/33.46ef42a6.js"><link rel="prefetch" href="/lijun.github.io/assets/js/34.5958041b.js"><link rel="prefetch" href="/lijun.github.io/assets/js/35.2418e7b8.js"><link rel="prefetch" href="/lijun.github.io/assets/js/36.fc545af4.js"><link rel="prefetch" href="/lijun.github.io/assets/js/37.e2afe675.js"><link rel="prefetch" href="/lijun.github.io/assets/js/38.e21983f2.js"><link rel="prefetch" href="/lijun.github.io/assets/js/39.63fb12b2.js"><link rel="prefetch" href="/lijun.github.io/assets/js/40.15ddf238.js"><link rel="prefetch" href="/lijun.github.io/assets/js/41.907c7b87.js"><link rel="prefetch" href="/lijun.github.io/assets/js/42.7dd9847d.js"><link rel="prefetch" href="/lijun.github.io/assets/js/43.a8eada8a.js"><link rel="prefetch" href="/lijun.github.io/assets/js/44.00a664d6.js"><link rel="prefetch" href="/lijun.github.io/assets/js/45.63795068.js"><link rel="prefetch" href="/lijun.github.io/assets/js/46.334f04fe.js"><link rel="prefetch" href="/lijun.github.io/assets/js/47.24579d27.js"><link rel="prefetch" href="/lijun.github.io/assets/js/48.11de53f2.js"><link rel="prefetch" href="/lijun.github.io/assets/js/49.d2a256fc.js"><link rel="prefetch" href="/lijun.github.io/assets/js/5.36affe12.js"><link rel="prefetch" href="/lijun.github.io/assets/js/50.8eca0d75.js"><link rel="prefetch" href="/lijun.github.io/assets/js/51.07584f37.js"><link rel="prefetch" href="/lijun.github.io/assets/js/52.6ace5b78.js"><link rel="prefetch" href="/lijun.github.io/assets/js/53.80ceb25e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/54.c39343a8.js"><link rel="prefetch" href="/lijun.github.io/assets/js/55.b3f4422f.js"><link rel="prefetch" href="/lijun.github.io/assets/js/56.f85dfba9.js"><link rel="prefetch" href="/lijun.github.io/assets/js/57.5ad06130.js"><link rel="prefetch" href="/lijun.github.io/assets/js/58.f2997272.js"><link rel="prefetch" href="/lijun.github.io/assets/js/59.69897d2a.js"><link rel="prefetch" href="/lijun.github.io/assets/js/6.d9bc5b6a.js"><link rel="prefetch" href="/lijun.github.io/assets/js/60.af7ec6d0.js"><link rel="prefetch" href="/lijun.github.io/assets/js/61.f0f798e7.js"><link rel="prefetch" href="/lijun.github.io/assets/js/62.171a615f.js"><link rel="prefetch" href="/lijun.github.io/assets/js/63.41401f9e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/64.5cfee19b.js"><link rel="prefetch" href="/lijun.github.io/assets/js/65.dabe2d1e.js"><link rel="prefetch" href="/lijun.github.io/assets/js/66.82af7c23.js"><link rel="prefetch" href="/lijun.github.io/assets/js/67.4131bc40.js"><link rel="prefetch" href="/lijun.github.io/assets/js/68.c96efc52.js"><link rel="prefetch" href="/lijun.github.io/assets/js/69.3d833570.js"><link rel="prefetch" href="/lijun.github.io/assets/js/7.04cf1173.js"><link rel="prefetch" href="/lijun.github.io/assets/js/70.3d2c5a89.js"><link rel="prefetch" href="/lijun.github.io/assets/js/71.d1076058.js"><link rel="prefetch" href="/lijun.github.io/assets/js/72.b371e547.js"><link rel="prefetch" href="/lijun.github.io/assets/js/73.7b5a1cf3.js"><link rel="prefetch" href="/lijun.github.io/assets/js/74.77cad4ce.js"><link rel="prefetch" href="/lijun.github.io/assets/js/75.30af5ef3.js"><link rel="prefetch" href="/lijun.github.io/assets/js/76.b9691c43.js"><link rel="prefetch" href="/lijun.github.io/assets/js/77.0c45dd6f.js"><link rel="prefetch" href="/lijun.github.io/assets/js/78.456e57be.js"><link rel="prefetch" href="/lijun.github.io/assets/js/8.7ca0fd23.js">
    <link rel="stylesheet" href="/lijun.github.io/assets/css/0.styles.174fb0da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>lijun's blog</h3> <p class="description" data-v-59e6cb88>A simple and beautiful vuepress blog theme .</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>lijun</span>
          
        <span data-v-59e6cb88>2023 - </span>
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lijun.github.io/" class="home-link router-link-active"><img src="/lijun.github.io/logo.png" alt="lijun's blog" class="logo"> <span class="site-name">lijun's blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lijun.github.io/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/lijun.github.io/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeScreening
</a></div><div class="nav-item"><a href="/lijun.github.io/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Label
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/react/" class="nav-link"><i class="undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/third_party/" class="nav-link"><i class="undefined"></i>
  thirdPartyPlugin 
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/css/" class="nav-link router-link-active"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/git/" class="nav-link"><i class="undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Document
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lijun.github.io/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  个人文档
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/share-work/" class="nav-link"><i class="undefined"></i>
  shareWork
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      GitHub
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijun-qiu/myblog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/lijun.github.io/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    lijun
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>66</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>31</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/lijun.github.io/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/lijun.github.io/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeScreening
</a></div><div class="nav-item"><a href="/lijun.github.io/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Label
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/react/" class="nav-link"><i class="undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/third_party/" class="nav-link"><i class="undefined"></i>
  thirdPartyPlugin 
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/css/" class="nav-link router-link-active"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/git/" class="nav-link"><i class="undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Document
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lijun.github.io/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  个人文档
</a></li><li class="dropdown-item"><!----> <a href="/lijun.github.io/blogs/share-work/" class="nav-link"><i class="undefined"></i>
  shareWork
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      GitHub
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lijun-qiu/myblog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/lijun.github.io/blogs/css/" aria-current="page" class="sidebar-link">css</a></li><li><a href="/lijun.github.io/blogs/css/图片渐隐消失之术.html" class="active sidebar-link">图片渐隐消失之术</a></li><li><a href="/lijun.github.io/blogs/css/3D卡片反光闪烁动效.html" class="sidebar-link">3D卡片反光闪烁动效</a></li><li><a href="/lijun.github.io/blogs/css/自定义导航栏.html" class="sidebar-link">自定义导航栏</a></li><li><a href="/lijun.github.io/blogs/css/纯css实现显示超出数量.html" class="sidebar-link">纯css实现显示超出数量</a></li><li><a href="/lijun.github.io/blogs/css/css三行动态显示展开收起.html" class="sidebar-link">css三行动态显示展开收起</a></li><li><a href="/lijun.github.io/blogs/css/字体超出中间...隐藏.html" class="sidebar-link">字体超出中间...隐藏</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>图片渐隐消失之术</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>lijun</span>
          
        <span data-v-59e6cb88>2023 - </span>
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">图片渐隐消失之术</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>lijun</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>10/26/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>css</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="强大的-mask"><a href="#强大的-mask" class="header-anchor">#</a> 强大的 Mask</h2> <p>首先，我们需要用到 Mask。</p> <p>在 CSS 中，mask 属性允许使用者通过遮罩或者裁切特定区域的图片的方式来隐藏一个元素的部分或者全部可见区域。</p> <p>使用 mask 实现 hover 隐藏图片</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>image.jpg<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.img:hover</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>是的，利用 Mask，我们同样也可以得到近似的消失效果：<br> <img src="/lijun.github.io/assets/img/vanish1.8981ed5c.gif" alt="avatar"></p> <p>当然，对于现在这个效果，有个很大的缺陷，那就是缺少了动画。图片是瞬间消失的。所以，我们还需要给上述的借助 mask 实现的图片消失效果添加上动画。</p> <p>而这，就需要用上 CSS @property 了。</p> <h2 id="强大的-css-property"><a href="#强大的-css-property" class="header-anchor">#</a> 强大的 CSS @property</h2> <p>CSS @property，大家应该不那么陌生了。
@property CSS at-rule 是 CSS Houdini API 的一部分, 它允许开发者显式地定义他们的 CSS 自定义属性，允许进行属性类型检查、设定默认值以及定义该自定义属性是否可以被继承。</p> <p>借助，CSS @property，我们改造一下代码：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@property</span> --m-0</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>image.jpg<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> --m-0 0.5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token property">--m-0</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>用这个小技巧，我们就可以成功的实现基于 mask 属性的动画效果：<br> <img src="/lijun.github.io/assets/img/vanish2.cbde5927.gif" alt="avatar"></p> <h2 id="借助多重-mask-分割图片"><a href="#借助多重-mask-分割图片" class="header-anchor">#</a> 借助多重 mask 分割图片</h2> <p>到了这一步，后面的步骤其实就很明朗了。
由于 mask 拥有和 background 一样的特性。因此，mask 是可以有多重 mask 的。也就是说，我们可以设置多个不同的 mask 效果给同一个元素。
什么意思呢？上面的效果只有一重 mask，我们稍微添加一些 mask 代码，让它变成 2 重 mask：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@property</span> --m-0</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@property</span> --m-1</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> 
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">mask-size</span><span class="token punctuation">:</span> 50% 100%<span class="token punctuation">;</span>
    <span class="token property">mask-position</span><span class="token punctuation">:</span> left<span class="token punctuation">,</span> right<span class="token punctuation">;</span>
    <span class="token property">mask-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> 
        --m-0 0.3s<span class="token punctuation">,</span>
        --m-1 0.25s 0.15s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token property">--m-0</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">--m-1</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>这样，我们的步骤大概是：</p> <p>首先将 mask 一分为二，左右两边各一个
然后，设置了两个基于 CSS @property 的变量，--m-0 和 --m-0
然后，给它们设置了不同的过渡时间和过渡延迟时间
在 hover 的一瞬间，再将这两个变量的值，都置为 0，也就是实现 linear-gradient(90deg, rgba(0, 0, 0, 1), rgba(0, 0, 0, 1)) 到 linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)) 的变化，用于隐藏对应 mask 块
由于设置了不同的过渡时间和延迟时间，整体上看上去，整个动画就分成了两部分<br></p> <p><img src="/lijun.github.io/assets/img/vanish3.edc7d873.gif" alt="avatar"></p> <p>继续切割为 4 重 mask</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@property</span> --m-0</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@property</span> --m-1</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@property</span> --m-2</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@property</span> --m-3</span> <span class="token punctuation">{</span>
   <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
   <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
   <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> 
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">linear-gradient</span><span class="token punctuation">(</span>90deg<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">mask-size</span><span class="token punctuation">:</span> 50% 50%<span class="token punctuation">;</span>
    <span class="token property">mask-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">mask-position</span><span class="token punctuation">:</span> left top<span class="token punctuation">,</span> right top<span class="token punctuation">,</span> left bottom<span class="token punctuation">,</span> bottom right<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> 
        --m-0 0.3s<span class="token punctuation">,</span>
        --m-1 0.15s 0.1s<span class="token punctuation">,</span>
        --m-2 0.25s 0.21s<span class="token punctuation">,</span>
        --m-3 0.19s 0.15s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token property">--m-0</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">--m-1</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">--m-2</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">--m-3</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>这样，我们就可以得到 4 块分割图片的 mask 消失效果：<br> <img src="/lijun.github.io/assets/img/vanish3.edc7d873.gif" alt="avatar"></p> <h2 id="基于-scss-简化代码"><a href="#基于-scss-简化代码" class="header-anchor">#</a> 基于 SCSS 简化代码</h2> <p>那么，如果我们要分割为 100 块呢？或者 400 块呢？还要手写这些代码吗？</p> <p>当然不需要，由于上面的代码的规律非常的明显，我们可以借助预处理器很好的封装整个效果。从而快速的实现切割成任意规则块数的效果。</p> <p>完整的代码如下：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body, html</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

$<span class="token property">count</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
$<span class="token property">sqrt</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
$<span class="token property">per</span><span class="token punctuation">:</span> 100% / $sqrt<span class="token punctuation">;</span>
$<span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
$<span class="token property">perWid</span><span class="token punctuation">:</span> 15<span class="token punctuation">;</span>

<span class="token atrule"><span class="token rule">@for</span> $i from 1 to <span class="token punctuation">(</span>$count + 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@property</span> --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token punctuation">{</span>
       <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
       <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
       <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bg</span> <span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token atrule"><span class="token rule">@for</span> $i from 2 through $n</span> <span class="token punctuation">{</span>         
        <span class="token selector">$bg: $bg, radial-gradient(rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token selector">)), rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bg<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bgPosition</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 0 through <span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>   
        <span class="token atrule"><span class="token rule">@for</span> $j from 0 through <span class="token punctuation">(</span>$n - 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>  
            <span class="token selector">$bgPosition: $bgPosition, #</span><span class="token punctuation">{</span>$i * $perWid<span class="token punctuation">}</span><span class="token selector">px #</span><span class="token punctuation">{</span>$j * $perWid<span class="token punctuation">}</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bgPosition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">transition</span><span class="token punctuation">:</span> --m-1 0.1s 0.1s<span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $n</span> <span class="token punctuation">{</span>   
        <span class="token selector">$transition: $transition, --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token selector">#</span><span class="token punctuation">{</span><span class="token function">random</span><span class="token punctuation">(</span>500<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">ms #</span><span class="token punctuation">{</span><span class="token function">random</span><span class="token punctuation">(</span>500<span class="token punctuation">)</span><span class="token punctuation">}</span>ms<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $transition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>https://picsum.photos/800/800?random=100<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">background-position</span><span class="token punctuation">:</span> center center<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">mask-size</span><span class="token punctuation">:</span> $per $per<span class="token punctuation">;</span>
    <span class="token property">mask-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">mask-position</span><span class="token punctuation">:</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$sqrt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $count</span> <span class="token punctuation">{</span>         
        <span class="token selector">--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><p>这里，简单解释一下，以生成 400 块小块为例子：</p> <p>最上面的 SCSS 变量定义中，</p> <p>$count 是我们最终生成的块数
$sqrt 是每行以及每列会拥有的块数
$per 是每一块占整体图片元素的百分比值
$width 是整个图片的宽高值
$perWid 是每一块的宽高值</p> <p>利用了最上面的一段循环函数，批量的生成 CSS @property 变量，从 --m-0 到 --m-400
@function bgSet($n) {} 是生成 400 块 mask 片段
@function positionSet($n) 是生成 400 块 mask 的 mask-position，也就是生成 400 段不同定位，让 400 块 mask 刚好覆盖整个图片
@function transitionSet($n) {} 是随机设置每个块的动画时间和延迟时间
代码最下面，还有一段循环函数，生成 400 个 CSS @property 变量的 hover 值，当 hover 的时候，全部变成 0</p> <p>这样，我们就实现了 400 分块的渐隐效果。效果如下：<br> <img src="/lijun.github.io/assets/img/vanish5.8ad50c92.gif" alt="avatar"></p> <h2 id="调整过渡变量-控制方向"><a href="#调整过渡变量-控制方向" class="header-anchor">#</a> 调整过渡变量，控制方向</h2> <p>当然，上面我们的对每一个小块的 transition 的过渡时间和过渡延迟时间的设置，都是随机的：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;div class=&quot;three&quot;&gt;&lt;/div&gt;

body, html</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

$<span class="token property">count</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
$<span class="token property">sqrt</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
$<span class="token property">per</span><span class="token punctuation">:</span> 100% / $sqrt<span class="token punctuation">;</span>
$<span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
$<span class="token property">perWid</span><span class="token punctuation">:</span> 15<span class="token punctuation">;</span>

<span class="token atrule"><span class="token rule">@for</span> $i from 1 to <span class="token punctuation">(</span>$count + 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@property</span> --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token punctuation">{</span>
       <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
       <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
       <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bg</span> <span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token atrule"><span class="token rule">@for</span> $i from 2 through $n</span> <span class="token punctuation">{</span>         
        <span class="token selector">$bg: $bg, radial-gradient(rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token selector">)), rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bg<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bgPosition</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 0 through <span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>   
        <span class="token atrule"><span class="token rule">@for</span> $j from 0 through <span class="token punctuation">(</span>$n - 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>  
            <span class="token selector">$bgPosition: $bgPosition, #</span><span class="token punctuation">{</span>$i * $perWid<span class="token punctuation">}</span><span class="token selector">px #</span><span class="token punctuation">{</span>$j * $perWid<span class="token punctuation">}</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bgPosition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">transition</span><span class="token punctuation">:</span> --m-1 0.1s 0.1s<span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $n</span> <span class="token punctuation">{</span>   
        <span class="token selector">$transition: $transition, --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token selector">#</span><span class="token punctuation">{</span>100 + <span class="token function">random</span><span class="token punctuation">(</span>500<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">ms #</span><span class="token punctuation">{</span><span class="token punctuation">(</span>$i / 50<span class="token punctuation">)</span> * <span class="token function">random</span><span class="token punctuation">(</span>100<span class="token punctuation">)</span><span class="token punctuation">}</span>ms<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $transition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>https://picsum.photos/600/600?random=104<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">background-position</span><span class="token punctuation">:</span> center center<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.three</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">mask-size</span><span class="token punctuation">:</span> $per $per<span class="token punctuation">;</span>
    <span class="token property">mask-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">mask-position</span><span class="token punctuation">:</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$sqrt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $count</span> <span class="token punctuation">{</span>         
        <span class="token selector">--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><p>那么，整个动画的方向就是从左往右逐渐消失：<br> <img src="/lijun.github.io/assets/img/vanish6.afd12d1b.gif" alt="avatar"></p> <p>当然，有意思的是，这个效果，不仅仅能够运用在图片上，它其实可以作用在任何元素之上！</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio, soluta? Rerum consequatur dolore vero suscipit a. Esse maxime harum, quasi ea enim quod ipsum dignissimos cupiditate laboriosam magnam numquam et.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio, soluta? Rerum consequatur dolore vero suscipit a. Esse maxime harum, quasi ea enim quod ipsum dignissimos cupiditate laboriosam magnam numquam et.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio, soluta? Rerum consequatur dolore vero suscipit a. Esse maxime harum, quasi ea enim quod ipsum dignissimos cupiditate laboriosam magnam numquam et.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body, html</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

$<span class="token property">count</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
$<span class="token property">sqrt</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
$<span class="token property">per</span><span class="token punctuation">:</span> 100% / $sqrt<span class="token punctuation">;</span>
$<span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
$<span class="token property">perWid</span><span class="token punctuation">:</span> 15<span class="token punctuation">;</span>

<span class="token atrule"><span class="token rule">@for</span> $i from 1 to <span class="token punctuation">(</span>$count + 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@property</span> --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token punctuation">{</span>
       <span class="token property">syntax</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;number&gt;&quot;</span><span class="token punctuation">;</span>
       <span class="token property">initial-value</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
       <span class="token property">inherits</span><span class="token punctuation">:</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bg</span> <span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--m-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token atrule"><span class="token rule">@for</span> $i from 2 through $n</span> <span class="token punctuation">{</span>         
        <span class="token selector">$bg: $bg, radial-gradient(rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token selector">)), rgba(0, 0, 0, var(--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bg<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">bgPosition</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 0 through <span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>   
        <span class="token atrule"><span class="token rule">@for</span> $j from 0 through <span class="token punctuation">(</span>$n - 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>  
            <span class="token selector">$bgPosition: $bgPosition, #</span><span class="token punctuation">{</span>$i * $perWid<span class="token punctuation">}</span><span class="token selector">px #</span><span class="token punctuation">{</span>$j * $perWid<span class="token punctuation">}</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $bgPosition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@function</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$n<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    $<span class="token property">transition</span><span class="token punctuation">:</span> --m-1 0.1s 0.1s<span class="token punctuation">;</span>

    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $n</span> <span class="token punctuation">{</span>   
        <span class="token selector">$transition: $transition, --m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span> <span class="token selector">#</span><span class="token punctuation">{</span><span class="token function">random</span><span class="token punctuation">(</span>500<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">ms #</span><span class="token punctuation">{</span><span class="token function">random</span><span class="token punctuation">(</span>500<span class="token punctuation">)</span><span class="token punctuation">}</span>ms<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token atrule"><span class="token rule">@return</span> $transition<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>

<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> $width<span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">background-position</span><span class="token punctuation">:</span> center center<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span>pointer<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> justify<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 17px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>#fc0<span class="token punctuation">,</span> deeppink<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background-clip</span><span class="token punctuation">:</span> text<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">mask</span><span class="token punctuation">:</span> <span class="token function">bgSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">mask-size</span><span class="token punctuation">:</span> $per $per<span class="token punctuation">;</span>
    <span class="token property">mask-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">mask-position</span><span class="token punctuation">:</span> <span class="token function">positionSet</span><span class="token punctuation">(</span>$sqrt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token function">transitionSet</span><span class="token punctuation">(</span>$count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div:hover</span> <span class="token punctuation">{</span>
    <span class="token atrule"><span class="token rule">@for</span> $i from 1 through $count</span> <span class="token punctuation">{</span>         
        <span class="token selector">--m-#</span><span class="token punctuation">{</span>$i<span class="token punctuation">}</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br></div></div><p><img src="/lijun.github.io/assets/img/vanish7.d008353f.gif" alt="avatar"></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>到这里，简单总结一下。本文，我们核心利用了 CSS @propery 和 mask，实现了一些原本看上去需要非常多 div 才能实现或者是需要借助 Canvas 才能实现的效果。同时，我们借助了 SCSS 预处理器，在寻找到规律后，极大的简化了 CSS 代码的书写量。</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/12/2024, 2:26:30 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/lijun.github.io/blogs/css/" class="prev router-link-active">
          css
        </a></span> <span class="next"><a href="/lijun.github.io/blogs/css/3D卡片反光闪烁动效.html">
          3D卡片反光闪烁动效
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/lijun.github.io/assets/js/app.d76a9f71.js" defer></script><script src="/lijun.github.io/assets/js/4.7ab4d0b1.js" defer></script><script src="/lijun.github.io/assets/js/1.e1ba0332.js" defer></script><script src="/lijun.github.io/assets/js/9.21a31406.js" defer></script>
  </body>
</html>
